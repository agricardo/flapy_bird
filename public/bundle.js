!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s="./src/index.js")}({"./src/entities/bird.js":
/*!******************************!*\
  !*** ./src/entities/bird.js ***!
  \******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar Bird = exports.Bird = function Bird(x, y, ctx) {\n    this.x = x;\n    this.y = y;\n    this.ctx = ctx;\n    this.velY = 0;\n    this.width = 90;\n    this.height = 64;\n    this.ticks = 0;\n    this.spriteIndex = 0;\n    this.sprites = [document.getElementById('bird1'), document.getElementById('bird2'), document.getElementById('bird3')];\n    var self = this;\n    window.addEventListener(\"keydown\", function (e) {\n        if (e.keyCode === 32) {\n            self.velY = -10;\n            console.log('space');\n        }\n    });\n};\nBird.prototype.update = function () {\n    this.ticks++;\n    if (this.ticks % 15 === 0) this.spriteIndex = (this.spriteIndex + 1) % this.sprites.length;\n    this.y += this.velY;\n    this.velY += 1;\n};\n\nBird.prototype.render = function () {\n    var renderX = this.x - this.width / 2;\n    var renderY = this.y - this.height / 2;\n    this.ctx.drawImage(this.sprites[this.spriteIndex], renderX, renderY);\n};\n\n//# sourceURL=webpack:///./src/entities/bird.js?")},"./src/entities/enviroment.js":
/*!************************************!*\
  !*** ./src/entities/enviroment.js ***!
  \************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar Enviroment = exports.Enviroment = function Enviroment(c, ctx) {\n    this.c = c;\n    this.ctx = ctx;\n    this.bgPos = 0;\n    this.fgPos = 0;\n    this.bgSpeed = 3;\n    this.bgWidth = 450;\n    this.bgImg = document.getElementById('bg');\n};\nEnviroment.prototype.update = function () {\n    this.bgPos -= this.bgSpeed;\n    if (this.bgPos < -this.bgWidth) this.bgPos = 0;\n};\nEnviroment.prototype.render = function (ctx) {\n    for (var i = 0; i <= this.c.width / this.bgWidth + 1; i++) {\n        this.ctx.drawImage(this.bgImg, this.bgPos + i * this.bgWidth, 0);\n    }\n};\n\n//# sourceURL=webpack:///./src/entities/enviroment.js?")},"./src/entities/index.js":
/*!*******************************!*\
  !*** ./src/entities/index.js ***!
  \*******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _bird = __webpack_require__(/*! ./bird */ "./src/entities/bird.js");\n\nObject.defineProperty(exports, \'Bird\', {\n  enumerable: true,\n  get: function get() {\n    return _bird.Bird;\n  }\n});\n\nvar _pipe = __webpack_require__(/*! ./pipe */ "./src/entities/pipe.js");\n\nObject.defineProperty(exports, \'Pipe\', {\n  enumerable: true,\n  get: function get() {\n    return _pipe.Pipe;\n  }\n});\n\nvar _enviroment = __webpack_require__(/*! ./enviroment */ "./src/entities/enviroment.js");\n\nObject.defineProperty(exports, \'Enviroment\', {\n  enumerable: true,\n  get: function get() {\n    return _enviroment.Enviroment;\n  }\n});\n\n//# sourceURL=webpack:///./src/entities/index.js?')},"./src/entities/pipe.js":
/*!******************************!*\
  !*** ./src/entities/pipe.js ***!
  \******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nvar Pipe = exports.Pipe = function Pipe(xpos, ypos, length, speed, ctx) {\n    this.ypos = ypos;\n    this.xpos = xpos;\n    this.length = length;\n    this.ctx = ctx;\n    this.speed = speed;\n    this.width = 90;\n};\n\nPipe.prototype.update = function () {\n    this.xpos -= this.speed;\n};\n\nPipe.prototype.render = function () {\n    this.ctx.save;\n\n    this.ctx.fillRect(this.xpos, this.ypos, this.width, this.length);\n    this.ctx.fillStyle = "#74BF2E";\n    this.ctx.fillRect(this.xpos + 5, this.ypos + 5, this.width - 10, this.length - 10);\n\n    this.ctx.restore();\n    this.ctx.fillStyle = "#000000";\n};\n\n//# sourceURL=webpack:///./src/entities/pipe.js?')},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _entities = __webpack_require__(/*! ./entities */ \"./src/entities/index.js\");\n\nwindow.onload = function () {\n    var c = document.getElementById('canvas');\n    c.width = window.innerWidth;\n    c.height = 600;\n    var ctx = c.getContext('2d');\n    //  ctx.drawImage(document.getElementById('bird1'), 500, 20)\n\n    var enviroment = new _entities.Enviroment(c, ctx);\n    var bird = new _entities.Bird(100, 250, ctx);\n    var pipes = [];\n    setInterval(function () {\n        var pipeSet = generateRandonPipes(ctx, c.width, c.height);\n        pipes.push(pipeSet.top, pipeSet.botton);\n    }, 1500);\n    gameLoop();\n\n    function gameLoop() {\n        ctx.fillRect(0, 0, c.width, c.height);\n        enviroment.update();\n        enviroment.render();\n        pipes.forEach(function (pipe1) {\n            pipe1.update();\n            pipe1.render();\n        });\n\n        bird.update();\n        bird.render();\n        if (detectCollision(bird, pipes)) {\n            alert(\"you lose!\");\n            // explosion.onload = function(){\n            //     ctx.drawImage(explosion, 100, velY)\n            // }\n            window.location = \"/\";\n        }\n        window.requestAnimationFrame(gameLoop);\n    }\n};\n\nfunction generateRandonPipes(ctx, canvasWidth, canvasHeigth) {\n    var lengthTop = Math.round(Math.random() * 300 + 100);\n    var lengthBottom = canvasHeigth - 230 - lengthTop;\n    var returnVal = {};\n    returnVal.top = new _entities.Pipe(canvasWidth, -5, lengthTop, 4, ctx);\n    returnVal.botton = new _entities.Pipe(canvasWidth, canvasHeigth + 5 - lengthBottom, lengthBottom, 4, ctx);\n    return returnVal;\n}\n\nfunction detectCollision(bird, pipes) {\n    // let collisionDetected = false;\n    for (var i = 0; i < pipes.length; i++) {\n        var e = pipes[i];\n        var highPipe = e.ypos <= 0;\n        var x0 = e.xpos,\n            x1 = e.xpos + e.width;\n        if (highPipe) {\n            var y0 = e.ypos + e.length;\n            var alpha = bird.x;\n            var beta = bird.y - bird.height / 2;\n            if (alpha > x0 && alpha < x1 && beta < y0) {\n                return true;\n            }\n        } else {\n            var y2 = e.ypos;\n            var a = bird.x;\n            var b = bird.y + bird.height / 2;\n            if (a > x0 && a < x1 && b > y2) return true;\n        }\n    }\n    return false;\n}\n\n//# sourceURL=webpack:///./src/index.js?")}});